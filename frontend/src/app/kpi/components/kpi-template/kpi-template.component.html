<app-content>
    <div class="row">
        <div class="col-md-12">
            <div class="tile">
                <div class="row">
                    <div class="col-md-4">
                        <div class="tile">
                            <h3 class="tile-title">เพิ่มข้อมูเทมเพลต เพิ่ม | ลบ | แก้ไข</h3>
                            <div class="tile-body">
                                <form [formGroup]="Form" (ngSubmit)="onSubmit()" [noValidate]="false">
                                    <div class="form-group">
                                        <label for="indi_name_id">ชื่อตัวชี้วัด</label>
                                        <select class="form-control" id="indi_name_id" formControlName="indi_name_id">     
                                            <option value="">---กรุณาเลือกชื่อตัวชี้วัด---</option>                               
                                            <option *ngFor="let item of nameKpi" [value]=item.id >{{item.name_th}}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="label">นิยามคำอธิบายความหมาย ตัวชี้วัด</label>                                
                                        <textarea class="form-control" id="label" cols="30" rows="5" formControlName="label"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="objective">วัตถุประสงค์ ตังชี้วัด</label>
                                        <input type="text" id="objective" class="form-control" formControlName="objective">
                                    </div>
                                    <div class="form-group">
                                        <label for="formular">สูตรคำนวณ (a/b) x 10000</label>
                                        <input type="text" id="formular" class="form-control" formControlName="formular">
                                    </div>
                                    <div class="form-group">
                                        <label for="txt_a">(ขอมูลข้อความ) ข้อมูลที่ต้องการ / ตัวตั้ง</label>
                                        <input type="text" id="txt_a" class="form-control" formControlName="txt_a">
                                    </div>
                                    <div class="form-group">
                                        <label for="txt_b">(ขอมูลข้อความ) ข้อมูลที่ต้องการ / ตัวหาร</label>
                                        <input type="text" id="txt_b" class="form-control" formControlName="txt_b">
                                    </div>
                                    <div class="form-group">
                                        <label for="diag_a">(ขอมูลข้อความ) รหัสโรค/หัตถการที่เกี่ยวข้องในการดึงข้อมูล(ตัวตั้ง)</label>
                                        <input type="text" id="diag_a" class="form-control" formControlName="diag_a">
                                    </div>
                                    <div class="form-group">
                                        <label for="diag_b">(ขอมูลข้อความ) รหัสโรค/หัตถการที่เกี่ยวข้องในการดึงข้อมูล(ตัวหาร)</label>
                                        <input type="text" id="diag_b" class="form-control" formControlName="diag_b">
                                    </div>
                                    <div class="form-group">
                                        <label for="frequency_id">ความถี่ในการจัดทำข้อมูล</label>
                                        <select class="form-control" id="frequency_id" formControlName="frequency_id">
                                            <option value=""></option>
                                            <option [value]="item.id" *ngFor="let item of frequency">{{item.name_th}}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="measure">หน่วยวัด</label>
                                        <input type="text" id="measure" class="form-control" formControlName="measure">
                                    </div>
                                    <div class="form-group">
                                        <label for="benchmark">การเปรียบเทียบสรรถนะ</label>
                                        <input type="text" id="benchmark" class="form-control" formControlName="benchmark">
                                    </div>
                                    <div class="form-group">
                                        <label for="howtooper">วิธีการแปลผล</label>
                                        <input type="text" id="howtooper" class="form-control" formControlName="howtooper">
                                    </div>
                                    <div class="form-group">
                                        <label for="ref">ที่มา Referance</label>
                                        <input type="text" id="ref" class="form-control" formControlName="ref">
                                    </div>
                                    <div class="form-group">
                                        <label for="active_date">เริ่มใช้งานเมื่อ</label>
                                        <input type="date" id="active_date" class="form-control" formControlName="active_date">
                                    </div>
                                    <div class="form-group">
                                        <label for="edit_date">ปรับปรุงเมื่อ</label>
                                        <input type="date" id="edit_date" class="form-control" formControlName="edit_date">
                                    </div>
                                    <div class="form-group">
                                        <label for="edit_date">เหตุผลของการปรับปรุง</label>                                
                                        <textarea id="edit_note" cols="30" rows="3" class="form-control" formControlName="edit_note"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="note">หมายเหตุ</label>                                
                                        <textarea id="note" cols="30" rows="3" class="form-control" formControlName="note"></textarea>
                                    </div>
                                    <div class="form-group">
                                        <label for="dep_care_id">ผู้รับผิดชอบ &nbsp;&nbsp;<i class="fa fa-refresh text-danger" (click)='over()'></i></label>
                                        <select class="form-control" id="dep_care_id" formControlName="dep_care_id" >
                                            <option *ngFor="let item of depCare" [value]=item.id>{{item.name_th}}</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label for="status">สถานะ</label>
                                        <select class="form-control" id="status" formControlName="status">
                                            <option value="ACTIVE">ใช้งาน</option>
                                            <option value="INACTIVE">ไม่ใช้งาน</option>
                                        </select>
                                    </div>
        
                                    <button type="submit" class="btn btn-primary">บันทึก</button>
                                </form>
                            </div>
                        </div>                        
                    </div>
                    <div class="col-md-8">
                        <div class="tile">
                            <h3 class="tile-title">รายการข้อมูเทมเพลต</h3>
                            <div class="tile-body">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>รหัส</th>
                                            <th>ชื่อตัวชี้วัด</th>
                                            <th>ความถี่ข้อมูล</th>
                                            <th>เริ่มใช้งานเมื่อ</th>
                                            <th>สถานะ</th>
                                            <th><i class="fa fa-cogs"></i></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let item of ListkpiTpl; index as i">
                                            <td>{{item.idg_id}}{{item.indi_name_id}}</td>                                            
                                            <td>{{item.idn_name_th}}</td>                                            
                                            <td>{{item.fq_name_th}}</td>                                            
                                            <td>{{item.active_date}}</td>                                            
                                            <td>{{item.status}}</td>  
                                            <td>
                                                <i class="fa fa-edit text-primary" (click)="onUpdate(item)"></i> |                               
                                                <i class="fa fa-trash text-danger" (click)="onDelete(item)"></i>
                                            </td>                                          
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</app-content>